<!DOCTYPE html>
<html lang="en">
<head>
  <title>Quick Start - Ready to Boot</title>
  <meta charset="utf-8">
  <meta name="description" content="index.description">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" href="/pandora/css/index.css">

</head>
<body>
  <div class="nav" >
  <header>
    <a href="/pandora/en" class="nav-logo leftpadding" alt="Pandora.js"><img src="/pandora/images/nav-logo.png" > Pandora.js</a>
    <ul class="nav-item">
      <li><a href="/pandora/en/introduce.html" alt="Documentation">Documentation</a></li><li><a href="/pandora/en/api.html" alt="API reference">API reference</a></li><li><a href="https://github.com/midwayjs/pandora/releases" alt="Change Log">Change Log</a></li>
      <li class="translations">
        <a class="nav-link">Language - English</a>
        <span class="arrow" style="border-top-color:#fff" ></span>
        <ul class="dropdown-content" >
          <li style="display: block; margin-left: 20px" ><a style="color: #008ce6" href="/pandora/zh-cn">中文</a></li>
          <li style="display: block; margin-left: 20px" ><a style="color: #008ce6" href="/pandora/en">English</a></li>
        </ul>
      </li>
      <li><iframe src="https://ghbtns.com/github-btn.html?user=midwayjs&repo=pandora&type=star&count=true" frameborder="0" scrolling="0" width="150px" height="20px"></iframe></li>
    </ul>
    <a id="mobileTrigger" href="#" class="mobile-trigger">
      <ul>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </a>
  </header>
</div>

  <div id="container" class="container">
    <div class="page-main">
  <article class="markdown-body">
    <h1>Quick Start</h1>
    <h2 id="environment"><a class="markdown-anchor" href="#environment">#</a> Environment</h2>
<ul>
<li>OS: macOS / Linux</li>
<li>Node.js Runtime: &gt;= 8.x.x, latest LTS version is recommended</li>
</ul>
<h2 id="the-goal-of-this-chapter"><a class="markdown-anchor" href="#the-goal-of-this-chapter">#</a> The goal of this chapter</h2>
<ol>
<li>Understand <code>procfile.js</code> configuration.</li>
<li>Understand basic commands: start, stop, dev, exit, and list.</li>
</ol>
<h2 id="about-gui-dashboard"><a class="markdown-anchor" href="#about-gui-dashboard">#</a> About GUI Dashboard</h2>
<p>Plase check <a href="http://www.midwayjs.org/pandora/en/other/dashboard.html" target="_blank" rel="noopener">GUI Dashboard</a>.</p>
<h2 id="installation"><a class="markdown-anchor" href="#installation">#</a> Installation</h2>
<p>Pandora.js can be installed locally with your Node.js project. It can also be installed globally.</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm i pandora -g  // Install with the global mode</span><br><span class="line">npm i pandora --save   // Install with the <span class="built_in">local</span> mode</span><br></pre></td></tr></table></figure>
<h2 id="generate-procfilejs"><a class="markdown-anchor" href="#generate-procfilejs">#</a> Generate procfile.js</h2>
<p>Pandora.js defines the application process structure via the <code>procfile.js</code> file in project root directory, so you need to add a <code>procfile.js</code> file in the project root directory.</p>
<p>This chapter will introduce the basic Fork and Cluster modes, you can choose either mode based on your scenario.</p>
<h4 id="fork-mode"><a class="markdown-anchor" href="#fork-mode">#</a> Fork mode</h4>
<p>Fork mode is kind of straightforward, it just launch the application, say, run <code>node app.js</code> directly.</p>
<p>You can use the init command to generate a <code>procfile.js</code> with fork mode:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pandora init ./app.js <span class="comment"># Here app.js is the launch entry of your Node.js application</span></span><br><span class="line">? Which <span class="built_in">type</span> <span class="keyword">do</span> you like to generate ? (Use arrow keys)</span><br><span class="line">❯ fork </span><br><span class="line">  cluster </span><br><span class="line">** The procfile.js was generated to location /xx/xx/procfile.js **</span><br></pre></td></tr></table></figure>
<p>Here you have a <code>procfile.js</code> with default values. You can have a glimpse of file content here:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">pandora</span>) =&gt;</span> &#123;</span><br><span class="line">  pandora</span><br><span class="line">    .fork(<span class="string">'appName'</span>, <span class="string">'./app.js'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="cluster-mode"><a class="markdown-anchor" href="#cluster-mode">#</a> Cluster mode</h4>
<p>Cluster mode is frequently adopted by Node.js applications in production. Pandora.js launch multiple workers, the same number as cpu cores by default, for applications to max the CPU performance. You can tune this setting based on your own flavor.</p>
<p>You can use the init command to generate a <code>procfile.js</code> with cluster mode:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pandora init ./app.js <span class="comment"># Here app.js is the launch entry of your Node.js application</span></span><br><span class="line">? Which <span class="built_in">type</span> <span class="keyword">do</span> you like to generate ? (Use arrow keys)</span><br><span class="line">  fork </span><br><span class="line">❯ cluster </span><br><span class="line">** The procfile.js was auto generated to location /xx/xx/procfile.js **</span><br></pre></td></tr></table></figure>
<p>Here you have a <code>procfile.js</code> with default values. You can have a glimpse of file content here:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">pandora</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  pandora</span><br><span class="line">    <span class="comment">// launch app.js using the cluster mode, with the default setting</span></span><br><span class="line">    .cluster(<span class="string">'./app.js'</span>); </span><br><span class="line"> </span><br><span class="line">  <span class="comment">/* Custom the number of workers</span></span><br><span class="line"><span class="comment">  pandora</span></span><br><span class="line"><span class="comment">    .process('worker')</span></span><br><span class="line"><span class="comment">    // Change the `worker` process numbers to 2.</span></span><br><span class="line"><span class="comment">    .scale(2);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    // By the way, The default process number is defined as `pandora.dev ? 1 : 'auto'`.</span></span><br><span class="line"><span class="comment">    // Which means if it is in development mode, pandora.js will not launch applications in cluster mode,</span></span><br><span class="line"><span class="comment">    // otherwise it launches applications in cluster mode.</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="start-or-stop-through-npm-run"><a class="markdown-anchor" href="#start-or-stop-through-npm-run">#</a> Start or stop through <code>npm run</code></h1>
<p>Other than process management, Pandora.js can also help with application lifecycle management.</p>
<p>We suggest you use pandora.js to start/stop your node.js applications. You define the script section of package.json as below:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"script"</span>: &#123;</span><br><span class="line">    <span class="attr">"dev"</span>: <span class="string">"pandora dev"</span>,</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"pandora start"</span>,</span><br><span class="line">    <span class="attr">"stop"</span>: <span class="string">"pandora stop"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now，you can use <code>npm run</code> to start/stop your application:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm run dev // Local start</span><br><span class="line">npm run start // Production start</span><br><span class="line">npm run stop // Production stop</span><br></pre></td></tr></table></figure>
<h2 id="start-and-stop-in-global-mode"><a class="markdown-anchor" href="#start-and-stop-in-global-mode">#</a> Start and stop in global mode</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pandora start [--name xxx] [path]</span><br></pre></td></tr></table></figure>
<p>Here is an example, we launch the application in the application root directory, and name it <code>helloApp</code>.</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pandora start</span><br><span class="line">pandora start --name helloApp</span><br></pre></td></tr></table></figure>
<p>If <code>name</code> is not specified, Pandora.js will take the last part of the root directory or the value of <code>name</code> property in package.json as the application name. The application will be launched silently, according to the default definition in <code>procfile.js</code> and run in the background.</p>
<p>As soon as the application is launched, it can be viewed through the <code>list</code> command:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pandora list</span><br></pre></td></tr></table></figure>
<p>you can also stop it with <code>stop</code> command:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pandora stop</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Since Pandora.js used to run global mode in background, it is strongly suggested to deploy it on the server beforehand.</p>
</blockquote>
<p>After the application is launched, the daemon process will keep resident in memory even the application is stopped. You can quit the daemon process via the command below:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pandora <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<p>If you do want to run the applications at foreground, you can choose the <code>dev</code> command ( only for local debugging):</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pandora dev</span><br></pre></td></tr></table></figure>

  </article>
  <aside id="mobileAside" class="toc">
  <div class="mobile-menu">
    <ul><li><a href="/pandora/en/introduce.html" alt="Documentation">Documentation</a></li><li><a href="/pandora/en/api.html" alt="API reference">API reference</a></li><li><a href="https://github.com/midwayjs/pandora/releases" alt="Change Log">Change Log</a></li></ul>
  </div>
  <dl><dt><a href="/pandora/en/introduce.html">What is the Pandora.js</a></dt></ul></dd><dt><a href="/pandora/en/quickstart.html">Quick Start</a></dt></ul></dd><dt><a href="/pandora/en/glossary.html">Glossary</a></dt></ul></dd><dt>Basic Features</dt><dd><ul><li><a href="/pandora/en/base/command.html">Commands</a></li><li><a href="/pandora/en/other/dashboard.html">GUI Dashboard</a></li><li><a href="/pandora/en/base/procfile_mode.html">Understand procfile.js</a></li><li><a href="/pandora/en/base/dorapan.html">User SDK - Dorapan</a></li><li><a href="/pandora/en/base/logs.html">Log Management</a></li><li><a href="/pandora/en/base/global_config.html">Global Config</a></li><li><a href="/pandora/en/base/quick_monitor.html">Monitoring Quick Start</a></li><li><a href="/pandora/en/base/debug.html">Debugging</a></li></ul></dd><dt>Advanced Processes Model</dt><dd><ul><li><a href="/pandora/en/process/process_std.html">Custom Process</a></li><li><a href="/pandora/en/process/service_std.html">Custom Service</a></li><li><a href="/pandora/en/process/fork_and_cluster.html">Fork and Cluster</a></li><li><a href="/pandora/en/process/environment_std.html">Custom Environment</a></li><li><a href="/pandora/en/process/application_life_cycle.html">Application Life Cycle</a></li><li><a href="/pandora/en/process/ipc_hub.html">IPC-Hub</a></li></ul></dd><dt>Application Monitoring</dt><dd><ul><li><a href="/pandora/en/monitor/monitor_std.html">Overview of Monitoring</a></li><li><a href="/pandora/en/monitor/resource.html">Exposed RESTFul API</a></li><li><a href="/pandora/en/monitor/trace.html">Trace Each Requests</a></li><li><a href="/pandora/en/monitor/monitor_inner.html">Base Monitoring</a></li><li><a href="/pandora/en/monitor/endpoint.html">EndPoint Usage and Extension</a></li><li><a href="/pandora/en/monitor/metrics.html">Metrics Usage and Extension</a></li><li><a href="/pandora/en/monitor/report.html">Monitoring Data Report</a></li></ul></dd><dt>Monitoring Data Collection</dt><dd><ul><li><a href="/pandora/en/collect/health.html">Health Check</a></li></ul></dd><dt>Extension</dt><dd><ul><li><a href="/pandora/en/other/typescript.html">Start A TypeScript Project</a></li></ul></dd></dl>
</aside>
<script>
var mobileTrigger = document.getElementById('mobileTrigger');
var mobileAside = document.getElementById('mobileAside');
mobileTrigger.onclick = function(e) {
  e.preventDefault();
  if (mobileAside.className.indexOf('mobile-show') === -1) {
    mobileAside.className += ' mobile-show';
  } else {
    mobileAside.className = 'toc';
  }
};
</script>

</div>

  </div>
</body>
<div class="cnzz">
<script src="https://s19.cnzz.com/z_stat.php?id=1271324644&web_id=1271324644" language="JavaScript"></script>
</div>

</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Application Life Cycle | Pandora.js</title>
    <meta name="description" content="A Manageable, Measurable and Traceable Node.js Application Manager">
    
    
    <link rel="preload" href="/pandora/assets/css/0.styles.084bf73a.css" as="style"><link rel="preload" href="/pandora/assets/js/app.10f40334.js" as="script"><link rel="preload" href="/pandora/assets/js/25.ac8816e3.js" as="script"><link rel="prefetch" href="/pandora/assets/js/10.e56d09be.js"><link rel="prefetch" href="/pandora/assets/js/11.6a36079b.js"><link rel="prefetch" href="/pandora/assets/js/12.38f11a86.js"><link rel="prefetch" href="/pandora/assets/js/13.bb15b39c.js"><link rel="prefetch" href="/pandora/assets/js/14.d39ed46a.js"><link rel="prefetch" href="/pandora/assets/js/15.b451dbb2.js"><link rel="prefetch" href="/pandora/assets/js/16.d5ffc812.js"><link rel="prefetch" href="/pandora/assets/js/17.d265549d.js"><link rel="prefetch" href="/pandora/assets/js/18.21a0ae88.js"><link rel="prefetch" href="/pandora/assets/js/19.970561e1.js"><link rel="prefetch" href="/pandora/assets/js/20.7c602537.js"><link rel="prefetch" href="/pandora/assets/js/21.cb7814e2.js"><link rel="prefetch" href="/pandora/assets/js/22.ab48779f.js"><link rel="prefetch" href="/pandora/assets/js/23.23b7b16f.js"><link rel="prefetch" href="/pandora/assets/js/24.74f03943.js"><link rel="prefetch" href="/pandora/assets/js/26.5f73dcae.js"><link rel="prefetch" href="/pandora/assets/js/27.484ebfe6.js"><link rel="prefetch" href="/pandora/assets/js/28.322282f4.js"><link rel="prefetch" href="/pandora/assets/js/29.afe4882f.js"><link rel="prefetch" href="/pandora/assets/js/3.22743a63.js"><link rel="prefetch" href="/pandora/assets/js/30.14a1d88a.js"><link rel="prefetch" href="/pandora/assets/js/31.8604ed80.js"><link rel="prefetch" href="/pandora/assets/js/32.6a117d99.js"><link rel="prefetch" href="/pandora/assets/js/33.410c6013.js"><link rel="prefetch" href="/pandora/assets/js/34.2a2a7802.js"><link rel="prefetch" href="/pandora/assets/js/35.1856a7bf.js"><link rel="prefetch" href="/pandora/assets/js/36.5b84f753.js"><link rel="prefetch" href="/pandora/assets/js/37.d2cb3169.js"><link rel="prefetch" href="/pandora/assets/js/38.c83a0102.js"><link rel="prefetch" href="/pandora/assets/js/39.f42679cd.js"><link rel="prefetch" href="/pandora/assets/js/4.5e0dd8f5.js"><link rel="prefetch" href="/pandora/assets/js/40.2eadee1a.js"><link rel="prefetch" href="/pandora/assets/js/41.38408c9a.js"><link rel="prefetch" href="/pandora/assets/js/42.586c37c6.js"><link rel="prefetch" href="/pandora/assets/js/43.6582a088.js"><link rel="prefetch" href="/pandora/assets/js/44.f8c74fa1.js"><link rel="prefetch" href="/pandora/assets/js/45.b91d3019.js"><link rel="prefetch" href="/pandora/assets/js/46.9c1243bc.js"><link rel="prefetch" href="/pandora/assets/js/47.48a86ca4.js"><link rel="prefetch" href="/pandora/assets/js/48.f6238539.js"><link rel="prefetch" href="/pandora/assets/js/49.e2759cd6.js"><link rel="prefetch" href="/pandora/assets/js/5.334c9a21.js"><link rel="prefetch" href="/pandora/assets/js/50.9a44155d.js"><link rel="prefetch" href="/pandora/assets/js/51.5f34534b.js"><link rel="prefetch" href="/pandora/assets/js/52.1364b9cb.js"><link rel="prefetch" href="/pandora/assets/js/53.83ad0447.js"><link rel="prefetch" href="/pandora/assets/js/54.2aedf968.js"><link rel="prefetch" href="/pandora/assets/js/55.4a483a86.js"><link rel="prefetch" href="/pandora/assets/js/56.fbbb59cf.js"><link rel="prefetch" href="/pandora/assets/js/57.34fb379c.js"><link rel="prefetch" href="/pandora/assets/js/58.5fe04015.js"><link rel="prefetch" href="/pandora/assets/js/59.8f50cd5c.js"><link rel="prefetch" href="/pandora/assets/js/6.b614fc28.js"><link rel="prefetch" href="/pandora/assets/js/60.76b7220d.js"><link rel="prefetch" href="/pandora/assets/js/61.b9e49b49.js"><link rel="prefetch" href="/pandora/assets/js/7.c5b54d83.js"><link rel="prefetch" href="/pandora/assets/js/8.c8afdc7a.js"><link rel="prefetch" href="/pandora/assets/js/9.8844c7a8.js"><link rel="prefetch" href="/pandora/assets/js/vendors~docsearch.b134f715.js">
    <link rel="stylesheet" href="/pandora/assets/css/0.styles.084bf73a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/pandora/" class="home-link router-link-active"><!----> <span class="site-name">Pandora.js</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pandora/" class="nav-link">Home</a></div><div class="nav-item"><a href="/pandora/quickstart.html" class="nav-link">Quick Start</a></div><div class="nav-item"><a href="/pandora/guide/introduce.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/pandora/api.html" class="nav-link">API reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">MidwayJs Products</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Web Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://midwayjs.org/midway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Midway - Future-oriented web full stack framework
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>Application Management</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pandora/" class="nav-link">Pandora.js - Node.js Application Manager</a></li></ul></li><li class="dropdown-item"><h4>Node.js Monitoring Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pandora/guide/process/.html#" class="nav-link">Sandbox - Privatized node. js monitoring product</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pandora/guide/process/application_life_cycle.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/pandora/zh-cn/guide/process/application_life_cycle.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/midwayjs/pandora" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pandora/" class="nav-link">Home</a></div><div class="nav-item"><a href="/pandora/quickstart.html" class="nav-link">Quick Start</a></div><div class="nav-item"><a href="/pandora/guide/introduce.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/pandora/api.html" class="nav-link">API reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">MidwayJs Products</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Web Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://midwayjs.org/midway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Midway - Future-oriented web full stack framework
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>Application Management</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pandora/" class="nav-link">Pandora.js - Node.js Application Manager</a></li></ul></li><li class="dropdown-item"><h4>Node.js Monitoring Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pandora/guide/process/.html#" class="nav-link">Sandbox - Privatized node. js monitoring product</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pandora/guide/process/application_life_cycle.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/pandora/zh-cn/guide/process/application_life_cycle.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/midwayjs/pandora" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Overview</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/introduce.html" class="sidebar-link">What is Pandora.js</a></li><li><a href="/pandora/guide/glossary.html" class="sidebar-link">Glossary</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Basic Features</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/base/command.html" class="sidebar-link">Commands</a></li><li><a href="/pandora/guide/other/dashboard.html" class="sidebar-link">GUI Dashboard ( Pandora-Dashboard )</a></li><li><a href="/pandora/guide/base/procfile_mode.html" class="sidebar-link">Understand procfile.js</a></li><li><a href="/pandora/guide/base/dorapan.html" class="sidebar-link">User SDK - Dorapan</a></li><li><a href="/pandora/guide/base/logs.html" class="sidebar-link">Log Management</a></li><li><a href="/pandora/guide/base/global_config.html" class="sidebar-link">Global Config</a></li><li><a href="/pandora/guide/base/quick_monitor.html" class="sidebar-link">Quickly Understand the Monitoring</a></li><li><a href="/pandora/guide/base/debug.html" class="sidebar-link">Debugging Application</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Advanced Processes Model</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/process/process_std.html" class="sidebar-link">Custom Process</a></li><li><a href="/pandora/guide/process/service_std.html" class="sidebar-link">Custom service</a></li><li><a href="/pandora/guide/process/fork_and_cluster.html" class="sidebar-link">Fork and Cluster</a></li><li><a href="/pandora/guide/process/environment_std.html" class="sidebar-link">Application Environment</a></li><li><a href="/pandora/guide/process/application_life_cycle.html" class="active sidebar-link">Application Life Cycle</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pandora/guide/process/application_life_cycle.html#representation-stage-procfile-js" class="sidebar-link">Representation Stage - procfile.js</a></li><li class="sidebar-sub-header"><a href="/pandora/guide/process/application_life_cycle.html#initialization-stage" class="sidebar-link">Initialization Stage</a></li><li class="sidebar-sub-header"><a href="/pandora/guide/process/application_life_cycle.html#injection-stage" class="sidebar-link">Injection Stage</a></li><li class="sidebar-sub-header"><a href="/pandora/guide/process/application_life_cycle.html#launch-stage" class="sidebar-link">Launch Stage</a></li><li class="sidebar-sub-header"><a href="/pandora/guide/process/application_life_cycle.html#shutdown-stage" class="sidebar-link">Shutdown Stage</a></li></ul></li><li><a href="/pandora/guide/process/ipc_hub.html" class="sidebar-link">Inter-Process Communication Hub</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Application Monitoring</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/monitor/monitor_std.html" class="sidebar-link">Monitor System Overview</a></li><li><a href="/pandora/guide/monitor/resource.html" class="sidebar-link">Exposed RESTFul API</a></li><li><a href="/pandora/guide/monitor/trace.html" class="sidebar-link">Trace Each Requests</a></li><li><a href="/pandora/guide/monitor/monitor_inner.html" class="sidebar-link">Base Monitoring</a></li><li><a href="/pandora/guide/monitor/endpoint.html" class="sidebar-link">EndPoint Usage and Extension</a></li><li><a href="/pandora/guide/monitor/metrics.html" class="sidebar-link">Metrics Usage and Extension</a></li><li><a href="/pandora/guide/monitor/report.html" class="sidebar-link">Monitoring Data Report</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Monitoring Data Collection</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/collect/health.html" class="sidebar-link">Health Check</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Extension</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/other/typescript.html" class="sidebar-link">Start A TypeScript Project</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="application-life-cycle"><a href="#application-life-cycle" aria-hidden="true" class="header-anchor">#</a> Application Life Cycle</h1> <p>As an application manager, Pandora.js can manage application's life cycle at 5 stages:</p> <ul><li>Representation Stage</li> <li>Initialization Stage</li> <li>Injection Stage</li> <li>Launch Stage</li> <li>Shutdown Stage</li></ul> <h2 id="representation-stage-procfile-js"><a href="#representation-stage-procfile-js" aria-hidden="true" class="header-anchor">#</a> Representation Stage - procfile.js</h2> <p>Use <code>procfile.js</code> to define the application.</p> <h2 id="initialization-stage"><a href="#initialization-stage" aria-hidden="true" class="header-anchor">#</a> Initialization Stage</h2> <p>Pandora.js can deploy multiple applications at the same time. By feeding the application root directory, Pandora.js would do some initialization works for the application, such as collecting meta information, initializing resource loader and context, etc.</p> <h2 id="injection-stage"><a href="#injection-stage" aria-hidden="true" class="header-anchor">#</a> Injection Stage</h2> <p>There are several ways to do the injection:</p> <ol><li>Using global variable <code>PANDORA_CONFIG</code></li> <li>Using the description file <code>procfile</code></li></ol> <p>Entities can be injected are listed as below:</p> <ol><li>Process：inject process definition.</li> <li>Service：pandora.js managed services, whose lifecycle are managed by application manager.</li> <li>Environment：environment object.</li></ol> <h2 id="launch-stage"><a href="#launch-stage" aria-hidden="true" class="header-anchor">#</a> Launch Stage</h2> <p>Create application context and start applications, invoke the <code>start()</code> method of services, such as HTTP service, etc.</p> <h2 id="shutdown-stage"><a href="#shutdown-stage" aria-hidden="true" class="header-anchor">#</a> Shutdown Stage</h2> <p>Shut down the application as well as services via invoking <code>stop()</code> method. Daemon will wait at most 5 seconds for applications to exit gracefully.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/midwayjs/pandora/edit/master/docs/guide/process/application_life_cycle.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/19/2018, 2:35:44 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pandora/guide/process/environment_std.html" class="prev">
          Application Environment
        </a></span> <span class="next"><a href="/pandora/guide/process/ipc_hub.html">
          Inter-Process Communication Hub
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/pandora/assets/js/25.ac8816e3.js" defer></script><script src="/pandora/assets/js/app.10f40334.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <title>调试应用 - 向未来出发</title>
  <meta charset="utf-8">
  <meta name="description" content="index.description">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" href="/pandora/css/index.css">

</head>
<body>
  <div class="nav" >
  <header>
    <a href="/pandora/zh-cn" class="nav-logo leftpadding" alt="Pandora.js"><img src="/pandora/images/nav-logo.png" > Pandora.js</a>
    <ul class="nav-item">
      <li><a href="/pandora/zh-cn/introduce.html" alt="文档指南">文档指南</a></li><li><a href="/pandora/zh-cn/api.html" alt="API 接口">API 接口</a></li><li><a href="https://github.com/midwayjs/pandora/releases" alt="发布日志">发布日志</a></li>
      <li class="translations">
        <a class="nav-link">中文</a>
        <span class="arrow" style="border-top-color:#fff" ></span>
        <ul class="dropdown-content" >
          <li style="display: block; margin-left: 20px" ><a style="color: #008ce6" href="/pandora/zh-cn">中文</a></li>
          <li style="display: block; margin-left: 20px" ><a style="color: #008ce6" href="/pandora/en">English</a></li>
        </ul>
      </li>
      <li><iframe src="https://ghbtns.com/github-btn.html?user=midwayjs&repo=pandora&type=star&count=true" frameborder="0" scrolling="0" width="150px" height="20px"></iframe></li>
    </ul>
    <a id="mobileTrigger" href="#" class="mobile-trigger">
      <ul>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </a>
  </header>
</div>

  <div id="container" class="container">
    <div class="page-main">
  <article class="markdown-body">
    <h1>调试应用</h1>
    <h2 id="在本地命令行启动项目"><a class="markdown-anchor" href="#在本地命令行启动项目">#</a> 在本地命令行启动项目</h2>
<p>如果是全局安装的 Pandora.js ，如下命令即可（如有启动参数，与 start 命令相同）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora dev</span><br></pre></td></tr></table></figure>
<p>如果是项目内安装的：</p>
<blockquote>
<p>增加（或修改） <code>package.json</code> 中 <code>script</code> 定义。对 <code>package.json</code> 做如下变更：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;script&quot;: &#123;</span><br><span class="line">      &quot;dev&quot;: &quot;pandora dev&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>之后运行 <code>npm run dev</code> 即可本地启动应用。</p>
</blockquote>
<h2 id="inspector"><a class="markdown-anchor" href="#inspector">#</a> Inspector</h2>
<p>执行如下命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora dev --inspect</span><br></pre></td></tr></table></figure>
<p>观察命令行输出，类似如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Debugger listening on ws://127.0.0.1:60587/a8217114-d61a-4789-8426-da350a88c1da</span><br><span class="line">For <span class="built_in">help</span> see https://nodejs.org/en/docs/inspector</span><br></pre></td></tr></table></figure>
<p>使用 <code>node-inspect</code>、<code>Chrome DevTools</code> 等工具连接相关端口即可调试，这个例子中需要连接 <code>127.0.0.1:60587</code>。</p>
<h2 id="idewebstorm或其他-intellij-的-ide中调试"><a class="markdown-anchor" href="#idewebstorm或其他-intellij-的-ide中调试">#</a> IDE：WebStorm（或其他 IntelliJ 的 IDE）中调试</h2>
<p><strong>按照下图配置：</strong></p>
<p><img src="https://img.alicdn.com/tfs/TB1EY5.khTI8KJjSspiXXbM4FXa-2352-1556.png" alt="img"></p>
<p><strong>重点：</strong></p>
<ol>
<li><code>Working directory</code>：填写项目根目录</li>
<li><code>JavaScript file</code>：填写 pandora 的 bin 文件地址</li>
<li>如果是本地安装，为 <code>./node_modules/.bin/pandora</code></li>
<li>如果是全局安装，可以通过在命令行中运行 <code>type pandora</code> 查看</li>
<li><code>Application parameters</code>：填写为 <code>dev</code></li>
</ol>
<p>上面的配置等价于用 WebStorm 运行 <code>pandora dev</code>。</p>
<p><em>注意：依赖于 WebStorm 的 <a href="https://www.jetbrains.com/help/webstorm/running-and-debugging-node-js.html" target="_blank" rel="noopener">Node.js Multiprocess Debugging</a> 能力，太低版本的 WebStorm 可能存在问题，<a href="https://youtrack.jetbrains.com/issue/WEB-27312" target="_blank" rel="noopener">相关 Issue</a>。</em></p>
<h2 id="其它-ide"><a class="markdown-anchor" href="#其它-ide">#</a> 其它 IDE</h2>
<p>如果其它 IDE 同样支持 Node.js Multiprocess Debugging 的话也可以使用，如果不支持请告诉我们。</p>
<p>其它 IDE 调试暂时请通过 <code>pandora dev --inspect</code> 启动后，连接端口号的形式调试（比如 WebStorm 中的 Node.js Remote Debug）。</p>
<p>为了让其它 IDE 也可以快捷地调试，我们正在做一个 Node.js 调试协议的代理。</p>

  </article>
  <aside id="mobileAside" class="toc">
  <div class="mobile-menu">
    <ul><li><a href="/pandora/zh-cn/introduce.html" alt="文档指南">文档指南</a></li><li><a href="/pandora/zh-cn/api.html" alt="API 接口">API 接口</a></li><li><a href="https://github.com/midwayjs/pandora/releases" alt="发布日志">发布日志</a></li></ul>
  </div>
  <dl><dt><a href="/pandora/zh-cn/introduce.html">Pandora.js 是什么？</a></dt></ul></dd><dt><a href="/pandora/zh-cn/quickstart.html">快速入门</a></dt></ul></dd><dt><a href="/pandora/zh-cn/glossary.html">关键术语</a></dt></ul></dd><dt>基础功能</dt><dd><ul><li><a href="/pandora/zh-cn/base/command.html">命令行介绍</a></li><li><a href="/pandora/zh-cn/base/procfile_mode.html">认识 procfile.js</a></li><li><a href="/pandora/zh-cn/base/dorapan.html">用户空间 SDK - Dorapan</a></li><li><a href="/pandora/zh-cn/base/logs.html">日志管理</a></li><li><a href="/pandora/zh-cn/base/global_config.html">配置文件</a></li><li><a href="/pandora/zh-cn/base/quick_monitor.html">快速了解监控</a></li><li><a href="/pandora/zh-cn/base/debug.html">调试应用</a></li></ul></dd><dt>进程管理进阶</dt><dd><ul><li><a href="/pandora/zh-cn/process/process_std.html">自定义进程</a></li><li><a href="/pandora/zh-cn/process/service_std.html">自定义 Service</a></li><li><a href="/pandora/zh-cn/process/fork_and_cluster.html">Fork 和 Cluster</a></li><li><a href="/pandora/zh-cn/process/environment_std.html">自定义环境</a></li><li><a href="/pandora/zh-cn/process/application_life_cycle.html">应用生命周期</a></li><li><a href="/pandora/zh-cn/process/ipc_hub.html">进程间通信</a></li></ul></dd><dt>应用监控</dt><dd><ul><li><a href="/pandora/zh-cn/monitor/monitor_std.html">监控体系总览</a></li><li><a href="/pandora/zh-cn/monitor/endpoint.html">使用和扩展 EndPoint</a></li><li><a href="/pandora/zh-cn/monitor/resource.html">对外暴露 Resource</a></li><li><a href="/pandora/zh-cn/monitor/metrics.html">使用和扩展 Metrics</a></li><li><a href="/pandora/zh-cn/monitor/trace.html">链路监控</a></li><li><a href="/pandora/zh-cn/monitor/monitor_inner.html">默认监控</a></li><li><a href="/pandora/zh-cn/monitor/report.html">监控数据上报</a></li></ul></dd><dt>监控数据采集</dt><dd><ul><li><a href="/pandora/zh-cn/collect/health.html">健康检查</a></li></ul></dd><dt>扩展功能</dt><dd><ul><li><a href="/pandora/zh-cn/other/dashboard.html">可视化管理面板</a></li><li><a href="/pandora/zh-cn/other/typescript.html">启动 TypeScript 项目</a></li></ul></dd></dl>
</aside>
<script>
var mobileTrigger = document.getElementById('mobileTrigger');
var mobileAside = document.getElementById('mobileAside');
mobileTrigger.onclick = function(e) {
  e.preventDefault();
  if (mobileAside.className.indexOf('mobile-show') === -1) {
    mobileAside.className += ' mobile-show';
  } else {
    mobileAside.className = 'toc';
  }
};
</script>

</div>

  </div>
</body>
<div class="cnzz">
<script src="https://s19.cnzz.com/z_stat.php?id=1271324644&web_id=1271324644" language="JavaScript"></script>
</div>

</html>

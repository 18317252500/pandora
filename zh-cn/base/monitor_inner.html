<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <title>默认监控 - Ready to boot</title>
  <meta charset="utf-8">
  <meta name="description" content="index.description">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" href="/pandora/css/index.css">

</head>
<body>
  <div class="nav" >
  <header>
    <a href="/pandora/zh-cn" class="nav-logo leftpadding" alt="Pandora.js"><img src="/pandora/images/nav-logo.png" > Pandora.js</a>
    <ul class="nav-item">
      <li><a href="/pandora/zh-cn/introduce.html" alt="文档指南">文档指南</a></li><li><a href="/pandora/zh-cn/api.html" alt="API 接口">API 接口</a></li><li><a href="https://github.com/midwayjs/pandora/releases" alt="发布日志">发布日志</a></li>
      <!--
      <li class="translations">
        <a class="nav-link">header.translations</a>
        <span class="arrow"></span>
        <ul class="dropdown-content">
          <li><a href="/">中文</a></li>
          <li><a href="/">English</a></li>
        </ul>
      </li>
      -->
      <li><iframe src="https://ghbtns.com/github-btn.html?user=midwayjs&repo=pandora&type=star&count=true" frameborder="0" scrolling="0" width="150px" height="20px"></iframe></li>
    </ul>
    <a id="mobileTrigger" href="#" class="mobile-trigger">
      <ul>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </a>
  </header>
</div>

  <div id="container" class="container">
    <div class="page-main">
  <article class="markdown-body">
    <h1>默认监控</h1>
    <p>我们实现了一些基础的监控类，也提供了一些基础的功能，以后也会逐步添加，当然，如果你实现了一个公共的监控模块，也欢迎大家的贡献。</p>
<h2 id="endpoint"><a class="markdown-anchor" href="#endpoint">#</a> EndPoint</h2>
<h3 id="基类"><a class="markdown-anchor" href="#基类">#</a> 基类</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Class</th>
<th style="text-align:left">Description</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">EndPoint</td>
<td style="text-align:left">所有 EndPoint 的基类，实现了基础的 IPC 通信</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">DuplexEndPoint</td>
<td style="text-align:left">基础的双工通信采集端，比如错误采集继承了此类</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h3 id="一些实现类"><a class="markdown-anchor" href="#一些实现类">#</a> 一些实现类</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Class</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Resource</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ErrorEndPoint</td>
<td style="text-align:left">错误日志采集端，靠拦截 logger通过 IPC 内部转发机制实现</td>
<td style="text-align:left">/error</td>
</tr>
<tr>
<td style="text-align:left">InfoEndPoint</td>
<td style="text-align:left">应用基础信息采集端，比如应用名，package.json，目录等</td>
<td style="text-align:left">/info</td>
</tr>
<tr>
<td style="text-align:left">MetricsEndPoint</td>
<td style="text-align:left">metrics 指标采集端</td>
<td style="text-align:left">/metrics</td>
</tr>
<tr>
<td style="text-align:left">HealthEndPoint</td>
<td style="text-align:left">健康检查采集端</td>
<td style="text-align:left">/health</td>
</tr>
<tr>
<td style="text-align:left">ProcessEndPoint</td>
<td style="text-align:left">进程信息采集端</td>
<td style="text-align:left">/process</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="indicator"><a class="markdown-anchor" href="#indicator">#</a> Indicator</h2>
<h3 id="基类-2"><a class="markdown-anchor" href="#基类-2">#</a> 基类</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Indicator</th>
<th style="text-align:left">所有的 Indicator 的基础类，实现了基础的 IPC 通信</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">DuplexIndicator</td>
<td style="text-align:left">一个双工 Indicator 的基础类</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">HealthIndicator</td>
<td style="text-align:left">健康检查的基类，规范化了默认的返回行为，因为健康检查只需要返回成功或者失败。</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h3 id="实现类"><a class="markdown-anchor" href="#实现类">#</a> 实现类</h3>
<table>
<thead>
<tr>
<th style="text-align:left">DiskSpaceHealthIndicator</th>
<th style="text-align:left">实现了磁盘健康检查</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">PortHealthIndicator</td>
<td style="text-align:left">实现了端口健康检查</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">BaseInfoIndicator</td>
<td style="text-align:left">实现了基础信息的采集</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">ConfigIndicator</td>
<td style="text-align:left">实现了运行时配置信息的采集</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">ErrorIndicator</td>
<td style="text-align:left">实现了错误信息的动态采集</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">NodeIndicator</td>
<td style="text-align:left">实现了 Node 数据的采集</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">ProcessIndicator</td>
<td style="text-align:left">实现了进程信息的采集</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="reporter"><a class="markdown-anchor" href="#reporter">#</a> Reporter</h2>
<h3 id="基类-3"><a class="markdown-anchor" href="#基类-3">#</a> 基类</h3>
<p>自定义实现可以继承。</p>
<table>
<thead>
<tr>
<th style="text-align:left">ScheduledMetricsReporter</th>
<th style="text-align:left">Metrics 输出的基类，定时执行</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CustomReporter</td>
<td style="text-align:left">自定义监控的输出基</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h3 id="内置的实现类"><a class="markdown-anchor" href="#内置的实现类">#</a> 内置的实现类</h3>
<table>
<thead>
<tr>
<th style="text-align:left">ConsoleReporter</th>
<th style="text-align:left">输出 Metrics 到命令行</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">FileMetricManagerReporter</td>
<td style="text-align:left">输出 Metrics 到特定文件</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="metrics"><a class="markdown-anchor" href="#metrics">#</a> Metrics</h2>
<p>我们实现了一些基础的 MetricsSet ，采集了基础的应用 Metrics。</p>
<table>
<thead>
<tr>
<th style="text-align:left">V8GaugeSet.ts</th>
<th style="text-align:left">v8 的指标</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CpuUsageGaugeSet.ts</td>
<td style="text-align:left">cpu 使用率</td>
</tr>
<tr>
<td style="text-align:left">DiskStatGaugeSet.ts</td>
<td style="text-align:left">磁盘使用率</td>
</tr>
<tr>
<td style="text-align:left">NetTrafficGaugeSet.ts</td>
<td style="text-align:left">网络流量监控</td>
</tr>
<tr>
<td style="text-align:left">SystemLoadGaugeSet.ts</td>
<td style="text-align:left">系统负载</td>
</tr>
<tr>
<td style="text-align:left">SystemMemoryGaugeSet.ts</td>
<td style="text-align:left">内存监控</td>
</tr>
<tr>
<td style="text-align:left">TcpGaugeSet.ts</td>
<td style="text-align:left">TCP 数据监控</td>
</tr>
</tbody>
</table>

  </article>
  <aside id="mobileAside" class="toc">
  <div class="mobile-menu">
    <ul><li><a href="/pandora/zh-cn/introduce.html" alt="文档指南">文档指南</a></li><li><a href="/pandora/zh-cn/api.html" alt="API 接口">API 接口</a></li><li><a href="https://github.com/midwayjs/pandora/releases" alt="发布日志">发布日志</a></li></ul>
  </div>
  <dl><dt><a href="/zh-cn/introduce.html">Pandora.js 是什么？</a></dt></ul></dd><dt><a href="/zh-cn/quickstart.html">快速入门</a></dt></ul></dd><dt><a href="/zh-cn/glossary.html">关键术语</a></dt></ul></dd><dt>基础功能</dt><dd><ul><li><a href="/zh-cn/base/command.html">命令行介绍</a></li><li><a href="/zh-cn/base/procfile_mode.html">认识 procfile.js</a></li><li><a href="/zh-cn/base/logs.html">日志管理</a></li><li><a href="/zh-cn/base/global_config.html">配置文件</a></li><li><a href="/zh-cn/base/monitor_inner.html">默认监控</a></li><li><a href="/zh-cn/base/debug.html">调试应用</a></li></ul></dd><dt>进程管理进阶</dt><dd><ul><li><a href="/zh-cn/process/process_std.html">自定义进程</a></li><li><a href="/zh-cn/process/service_std.html">自定义 Service</a></li><li><a href="/zh-cn/process/fork_and_cluster.html">Fork 和 Cluster</a></li><li><a href="/zh-cn/process/environment_std.html">自定义环境</a></li><li><a href="/zh-cn/process/application_life_cycle.html">应用生命周期</a></li><li><a href="/zh-cn/process/ipc_hub.html">进程间通信</a></li></ul></dd><dt>标准监控体系</dt><dd><ul><li><a href="/zh-cn/monitor/monitor_std.html">监控体系介绍</a></li><li><a href="/zh-cn/monitor/endpoint.html">使用和扩展 EndPoint</a></li><li><a href="/zh-cn/monitor/resource.html">对外暴露 Resource</a></li><li><a href="/zh-cn/monitor/metrics.html">使用和扩展 Metrics</a></li><li><a href="/zh-cn/monitor/trace.html">链路监控</a></li></ul></dd><dt>扩展功能</dt><dd><ul><li><a href="/zh-cn/other/dashboard.html">单机可视化管理面板</a></li><li><a href="/zh-cn/other/typescript.html">启动 TypeScript 项目</a></li></ul></dd></dl>
</aside>
<script>
var mobileTrigger = document.getElementById('mobileTrigger');
var mobileAside = document.getElementById('mobileAside');
mobileTrigger.onclick = function(e) {
  e.preventDefault();
  if (mobileAside.className.indexOf('mobile-show') === -1) {
    mobileAside.className += ' mobile-show';
  } else {
    mobileAside.className = 'toc';
  }
};
</script>

</div>

  </div>
</body>
<div class="cnzz">
<script src="https://s19.cnzz.com/z_stat.php?id=1271324644&web_id=1271324644" language="JavaScript"></script>
</div>

</html>

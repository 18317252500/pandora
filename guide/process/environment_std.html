<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Application Environment | Pandora.js</title>
    <meta name="description" content="A Manageable, Measurable and Traceable Node.js Application Manager">
    
    
    <link rel="preload" href="/pandora/assets/css/styles.0fa89a22.css" as="style"><link rel="preload" href="/pandora/assets/js/app.0fa89a22.js" as="script"><link rel="preload" href="/pandora/assets/js/25.71357921.js" as="script"><link rel="prefetch" href="/pandora/assets/js/29.26acf4ce.js"><link rel="prefetch" href="/pandora/assets/css/1.styles.eeb9b337.css"><link rel="prefetch" href="/pandora/assets/js/1.eeb9b337.js"><link rel="prefetch" href="/pandora/assets/css/2.styles.45325f22.css"><link rel="prefetch" href="/pandora/assets/js/2.45325f22.js"><link rel="prefetch" href="/pandora/assets/js/3.e36de626.js"><link rel="prefetch" href="/pandora/assets/js/4.8aca9e0e.js"><link rel="prefetch" href="/pandora/assets/js/5.8c761ccd.js"><link rel="prefetch" href="/pandora/assets/js/6.5bd3079f.js"><link rel="prefetch" href="/pandora/assets/js/7.346df9a0.js"><link rel="prefetch" href="/pandora/assets/js/8.afbf4a31.js"><link rel="prefetch" href="/pandora/assets/js/9.c90f3db2.js"><link rel="prefetch" href="/pandora/assets/js/10.5a9c83e2.js"><link rel="prefetch" href="/pandora/assets/js/11.0fd96927.js"><link rel="prefetch" href="/pandora/assets/js/12.d3b4cf81.js"><link rel="prefetch" href="/pandora/assets/js/13.70c10a4b.js"><link rel="prefetch" href="/pandora/assets/js/14.20487f2f.js"><link rel="prefetch" href="/pandora/assets/js/15.bc10e861.js"><link rel="prefetch" href="/pandora/assets/js/16.1d74850b.js"><link rel="prefetch" href="/pandora/assets/js/17.e13cad84.js"><link rel="prefetch" href="/pandora/assets/js/18.35e03bd4.js"><link rel="prefetch" href="/pandora/assets/js/19.850341a7.js"><link rel="prefetch" href="/pandora/assets/js/20.13901689.js"><link rel="prefetch" href="/pandora/assets/js/21.9f28b409.js"><link rel="prefetch" href="/pandora/assets/js/22.40823440.js"><link rel="prefetch" href="/pandora/assets/js/23.a200c8f6.js"><link rel="prefetch" href="/pandora/assets/js/24.392fa04b.js"><link rel="prefetch" href="/pandora/assets/js/26.0fe70111.js"><link rel="prefetch" href="/pandora/assets/js/27.959d78ec.js"><link rel="prefetch" href="/pandora/assets/js/28.ad8e9087.js"><link rel="prefetch" href="/pandora/assets/js/30.222ae311.js"><link rel="prefetch" href="/pandora/assets/js/31.b9018b80.js"><link rel="prefetch" href="/pandora/assets/js/32.05825938.js"><link rel="prefetch" href="/pandora/assets/js/33.7d652754.js"><link rel="prefetch" href="/pandora/assets/js/34.96685e45.js"><link rel="prefetch" href="/pandora/assets/js/35.84727a4e.js"><link rel="prefetch" href="/pandora/assets/js/36.1058e0ef.js"><link rel="prefetch" href="/pandora/assets/js/37.17ca4165.js"><link rel="prefetch" href="/pandora/assets/js/38.2c0cfe97.js"><link rel="prefetch" href="/pandora/assets/js/39.a9c7659f.js"><link rel="prefetch" href="/pandora/assets/js/40.b224cc01.js"><link rel="prefetch" href="/pandora/assets/js/41.454a7cab.js"><link rel="prefetch" href="/pandora/assets/js/42.b05a989a.js"><link rel="prefetch" href="/pandora/assets/js/43.a6f0a8e4.js"><link rel="prefetch" href="/pandora/assets/js/44.dd747fa3.js"><link rel="prefetch" href="/pandora/assets/js/45.9195a612.js"><link rel="prefetch" href="/pandora/assets/js/46.ea8773dc.js"><link rel="prefetch" href="/pandora/assets/js/47.33fe6ccc.js"><link rel="prefetch" href="/pandora/assets/js/48.0f7a799c.js"><link rel="prefetch" href="/pandora/assets/js/49.54e7af0e.js"><link rel="prefetch" href="/pandora/assets/js/50.0a9fc1ff.js"><link rel="prefetch" href="/pandora/assets/js/51.0279bcc5.js"><link rel="prefetch" href="/pandora/assets/js/52.70f180c7.js"><link rel="prefetch" href="/pandora/assets/js/53.771e1d15.js"><link rel="prefetch" href="/pandora/assets/js/54.735852d7.js"><link rel="prefetch" href="/pandora/assets/js/55.c18e04e9.js"><link rel="prefetch" href="/pandora/assets/js/56.c9c48b95.js"><link rel="prefetch" href="/pandora/assets/js/57.74ffa713.js"><link rel="prefetch" href="/pandora/assets/js/58.4bfdcb27.js"><link rel="prefetch" href="/pandora/assets/js/59.2be6dce8.js"><link rel="prefetch" href="/pandora/assets/css/60.styles.447e4fb5.css"><link rel="prefetch" href="/pandora/assets/js/vendors~docsearch.447e4fb5.js">
    <link rel="stylesheet" href="/pandora/assets/css/1.styles.eeb9b337.css"><link rel="stylesheet" href="/pandora/assets/css/2.styles.45325f22.css"><link rel="stylesheet" href="/pandora/assets/css/styles.0fa89a22.css"><link rel="stylesheet" href="/pandora/assets/css/60.styles.447e4fb5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/pandora/" class="home-link router-link-active"><!----> <span class="site-name">Pandora.js</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pandora/" class="nav-link">Home</a></div><div class="nav-item"><a href="/pandora/quickstart.html" class="nav-link">Quick Start</a></div><div class="nav-item"><a href="/pandora/guide/introduce.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/pandora/api.html" class="nav-link">API reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">MidwayJs Products</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Web Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://midwayjs.org/midway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Midway - Future-oriented web full stack framework
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>Application Management</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pandora/" class="nav-link">Pandora.js - Node.js Application Manager</a></li></ul></li><li class="dropdown-item"><h4>Node.js Monitoring Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pandora/guide/process/.html#" class="nav-link">Sandbox - Privatized node. js monitoring product</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pandora/guide/process/environment_std.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/pandora/zh-cn/guide/process/environment_std.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/midwayjs/pandora" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pandora/" class="nav-link">Home</a></div><div class="nav-item"><a href="/pandora/quickstart.html" class="nav-link">Quick Start</a></div><div class="nav-item"><a href="/pandora/guide/introduce.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/pandora/api.html" class="nav-link">API reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">MidwayJs Products</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Web Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://midwayjs.org/midway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Midway - Future-oriented web full stack framework
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>Application Management</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pandora/" class="nav-link">Pandora.js - Node.js Application Manager</a></li></ul></li><li class="dropdown-item"><h4>Node.js Monitoring Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pandora/guide/process/.html#" class="nav-link">Sandbox - Privatized node. js monitoring product</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pandora/guide/process/environment_std.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/pandora/zh-cn/guide/process/environment_std.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/midwayjs/pandora" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Overview</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/introduce.html" class="sidebar-link">What is Pandora.js</a></li><li><a href="/pandora/guide/glossary.html" class="sidebar-link">Glossary</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Basic Features</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/base/command.html" class="sidebar-link">Commands</a></li><li><a href="/pandora/guide/other/dashboard.html" class="sidebar-link">GUI Dashboard ( Pandora-Dashboard )</a></li><li><a href="/pandora/guide/base/procfile_mode.html" class="sidebar-link">Understand procfile.js</a></li><li><a href="/pandora/guide/base/dorapan.html" class="sidebar-link">User SDK - Dorapan</a></li><li><a href="/pandora/guide/base/logs.html" class="sidebar-link">Log Management</a></li><li><a href="/pandora/guide/base/global_config.html" class="sidebar-link">Global Config</a></li><li><a href="/pandora/guide/base/quick_monitor.html" class="sidebar-link">Quickly Understand the Monitoring</a></li><li><a href="/pandora/guide/base/debug.html" class="sidebar-link">Debugging Application</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Advanced Processes Model</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/process/process_std.html" class="sidebar-link">Custom Process</a></li><li><a href="/pandora/guide/process/service_std.html" class="sidebar-link">Custom service</a></li><li><a href="/pandora/guide/process/fork_and_cluster.html" class="sidebar-link">Fork and Cluster</a></li><li><a href="/pandora/guide/process/environment_std.html" class="active sidebar-link">Application Environment</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pandora/guide/process/environment_std.html#obtain-the-environment-object" class="sidebar-link">Obtain the environment object</a></li><li class="sidebar-sub-header"><a href="/pandora/guide/process/environment_std.html#define-environment" class="sidebar-link">Define environment</a></li><li class="sidebar-sub-header"><a href="/pandora/guide/process/environment_std.html#frequently-used-interfaces" class="sidebar-link">Frequently Used Interfaces</a></li><li class="sidebar-sub-header"><a href="/pandora/guide/process/environment_std.html#extends-baseenvironment" class="sidebar-link">Extends BaseEnvironment</a></li><li class="sidebar-sub-header"><a href="/pandora/guide/process/environment_std.html#defaultenvironment" class="sidebar-link">DefaultEnvironment</a></li></ul></li><li><a href="/pandora/guide/process/application_life_cycle.html" class="sidebar-link">Application Life Cycle</a></li><li><a href="/pandora/guide/process/ipc_hub.html" class="sidebar-link">Inter-Process Communication Hub</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Application Monitoring</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/monitor/monitor_std.html" class="sidebar-link">Monitor System Overview</a></li><li><a href="/pandora/guide/monitor/resource.html" class="sidebar-link">Exposed RESTFul API</a></li><li><a href="/pandora/guide/monitor/trace.html" class="sidebar-link">Trace Each Requests</a></li><li><a href="/pandora/guide/monitor/monitor_inner.html" class="sidebar-link">Base Monitoring</a></li><li><a href="/pandora/guide/monitor/endpoint.html" class="sidebar-link">EndPoint Usage and Extension</a></li><li><a href="/pandora/guide/monitor/metrics.html" class="sidebar-link">Metrics Usage and Extension</a></li><li><a href="/pandora/guide/monitor/report.html" class="sidebar-link">Monitoring Data Report</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Monitoring Data Collection</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/collect/health.html" class="sidebar-link">Health Check</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Extension</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pandora/guide/other/typescript.html" class="sidebar-link">Start A TypeScript Project</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="application-environment"><a href="#application-environment" aria-hidden="true" class="header-anchor">#</a> Application Environment</h1> <p>It is a common practice that applications read some environment variables to decide some of their behaviors, e.g. running in prodction mode or development mode. Environment object is used to store environment related information.</p> <h2 id="obtain-the-environment-object"><a href="#obtain-the-environment-object" aria-hidden="true" class="header-anchor">#</a> Obtain the environment object</h2> <p>The environment object can be obtained via <code>require('dorapan').environment</code>.</p> <h2 id="define-environment"><a href="#define-environment" aria-hidden="true" class="header-anchor">#</a> Define environment</h2> <ol><li>Environment can be defined in global configuration.</li> <li>It can be defined via <code>procfile.js</code> as well. Here is an example:</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>pandora<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// If no parameter given, current environment object is returned</span>
  pandora<span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span>UrEnvironmentClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="frequently-used-interfaces"><a href="#frequently-used-interfaces" aria-hidden="true" class="header-anchor">#</a> Frequently Used Interfaces</h2> <p>The behaviors of environment object are described by its Interface <a href="http://www.midwayjs.org/pandora/api-reference/env/interfaces/environment.html" target="_blank" rel="noopener noreferrer">Environment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 。</p> <p>They are listed as below:</p> <p><strong>get(name: string): any</strong></p> <blockquote><p>Retrive the value of an environment variable via its name
There are some reserved variable names:</p> <ol><li>env -&gt; environment identifier，e.g. production/development.</li> <li>appName -&gt; name of current application</li> <li>appDir -&gt; root directory of current application</li> <li>pandoraLogsDir -&gt; directory for storing Pandora log files, it is set to <code>~/logs</code> as default.</li></ol></blockquote> <p><strong>match(name: string): boolean</strong></p> <blockquote><p>Judge whether current environment matches the given environment identiifier.</p></blockquote> <h2 id="extends-baseenvironment"><a href="#extends-baseenvironment" aria-hidden="true" class="header-anchor">#</a> Extends BaseEnvironment</h2> <p>Rather than implements the <code>Environment</code> interface by yourself, we suggest you extends the <code>BaseEnvironment</code> class, which includes some out-of-factory implementations already.</p> <p>You can obtain the class via <code>import {BaseEnvironment} from 'pandora'</code>.</p> <p>ref: <a href="http://www.midwayjs.org/pandora/api-reference/env/classes/baseenvironment.html" target="_blank" rel="noopener noreferrer">BaseEnvironment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>It adds a <code>set()</code> method and a <code>constructor</code> to the original interface.</p> <p>Here is an example:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>BaseEnvironment<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pandora'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ForceTestEnvironment</span> <span class="token keyword">extends</span> <span class="token class-name">BaseEnvironment</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>variables<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    variables <span class="token operator">=</span> variables <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>variables<span class="token punctuation">.</span>env<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      variables<span class="token punctuation">.</span>env <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>variables<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">match</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'env'</span><span class="token punctuation">)</span> <span class="token operator">===</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="defaultenvironment"><a href="#defaultenvironment" aria-hidden="true" class="header-anchor">#</a> DefaultEnvironment</h2> <p>If there is no user defined Environment object given, Pandora uses <a href="http://www.midwayjs.org/pandora/api-reference/env/classes/defaultenvironment.html" target="_blank" rel="noopener noreferrer">DefaultEnvironment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as default.</p> <p>It uses <code>process.env.NODE_ENV</code> to define current environment. Here is the implementation:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">'production'</span><span class="token punctuation">:</span>
    variables<span class="token punctuation">.</span>env <span class="token operator">=</span> <span class="token string">'production'</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token string">'prepub'</span><span class="token punctuation">:</span>
    variables<span class="token punctuation">.</span>env <span class="token operator">=</span> <span class="token string">'prepub'</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token string">'test'</span><span class="token punctuation">:</span>
  <span class="token keyword">case</span> <span class="token string">'unittest'</span><span class="token punctuation">:</span>
    variables<span class="token punctuation">.</span>env <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span>
    variables<span class="token punctuation">.</span>env <span class="token operator">=</span> <span class="token string">'development'</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/midwayjs/pandora/edit/master/docs/guide/process/environment_std.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/19/2018, 2:35:44 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pandora/guide/process/fork_and_cluster.html" class="prev">
          Fork and Cluster
        </a></span> <span class="next"><a href="/pandora/guide/process/application_life_cycle.html">
          Application Life Cycle
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/pandora/assets/js/25.71357921.js" defer></script><script src="/pandora/assets/js/app.0fa89a22.js" defer></script>
  </body>
</html>

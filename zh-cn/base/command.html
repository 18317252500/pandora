<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <title>命令行介绍 - Ready to boot</title>
  <meta charset="utf-8">
  <meta name="description" content="index.description">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" href="/pandora/css/index.css">

</head>
<body>
  <div class="nav" >
  <header>
    <a href="/pandora/zh-cn" class="nav-logo leftpadding" alt="Pandora.js"><img src="/pandora/images/nav-logo.png" > Pandora.js</a>
    <ul class="nav-item">
      <li><a href="/pandora/zh-cn/introduce.html" alt="文档指南">文档指南</a></li><li><a href="/pandora/zh-cn/api.html" alt="API 接口">API 接口</a></li><li><a href="https://github.com/midwayjs/pandora/releases" alt="发布日志">发布日志</a></li>
      <!--
      <li class="translations">
        <a class="nav-link">header.translations</a>
        <span class="arrow"></span>
        <ul class="dropdown-content">
          <li><a href="/">中文</a></li>
          <li><a href="/">English</a></li>
        </ul>
      </li>
      -->
      <li><iframe src="https://ghbtns.com/github-btn.html?user=midwayjs&repo=pandora&type=star&count=true" frameborder="0" scrolling="0" width="150px" height="20px"></iframe></li>
    </ul>
    <a id="mobileTrigger" href="#" class="mobile-trigger">
      <ul>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </a>
  </header>
</div>

  <div id="container" class="container">
    <div class="page-main">
  <article class="markdown-body">
    <h1>命令行介绍</h1>
    <p>Pandora.js 提供了一些常用的命令行来帮助应用进行管理，比如：</p>
<ul>
<li>start</li>
<li>stop</li>
<li>restart</li>
<li>list</li>
<li>log</li>
<li>ps</li>
<li>exit</li>
<li>dev</li>
</ul>
<h2 id="start-启动应用"><a class="markdown-anchor" href="#start-启动应用">#</a> start 启动应用</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora start [path] --name urAppName --env=<span class="string">"NODE_ENV=production"</span> --argv=<span class="string">"expose-gc"</span></span><br></pre></td></tr></table></figure>
<p>最常用的启动命令，用于启动一个新的应用。</p>
<ol>
<li><code>[path]</code> 可选，启动的目标路径，默认为当前目录。</li>
<li><code>--name=urAppName</code> 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。</li>
<li><code>--env=&quot;NODE_ENV=production&quot;</code> 可选，指定启动应用的环境变量，应用可以通过 <code>process.env</code> 获得。</li>
<li><code>--argv=&quot;expose-gc&quot;</code> 可选，指定应用启动的 Node.js 参数。</li>
</ol>
<p>举例：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 当前目录为 /home/admin/mytaobao/target/mytaobao （假设没有 package.json 中的 name）</span></span><br><span class="line"></span><br><span class="line">pandora start <span class="comment"># 启动 mytaobao 应用，类似 --name=mytaobao</span></span><br><span class="line">pandora start . --name mytaobao <span class="comment"># 同上</span></span><br><span class="line">pandora start `<span class="built_in">pwd</span>` <span class="comment"># 同上</span></span><br></pre></td></tr></table></figure>
<h2 id="stop-停止应用"><a class="markdown-anchor" href="#stop-停止应用">#</a> stop 停止应用</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora stop [appName]</span><br></pre></td></tr></table></figure>
<p>停止一个应用。</p>
<ol>
<li><code>[appName]</code> 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。</li>
</ol>
<p>举例：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora stop mytaobao <span class="comment"># mytaobao 为之前定义的名字，如果没有指定 name ，和 start 一样自动获得 name</span></span><br></pre></td></tr></table></figure>
<h2 id="restart-重启应用"><a class="markdown-anchor" href="#restart-重启应用">#</a> restart 重启应用</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora restart [appName]</span><br></pre></td></tr></table></figure>
<p>重启一个应用，先停止运行，再按原配置启动。</p>
<ol>
<li><code>[appName]</code> 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。</li>
</ol>
<p>举例：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora restart mytaobao // mytaobao 为之前定义的名字，如果没有指定 name ，和 start 一样自动获得 name</span><br></pre></td></tr></table></figure>
<h2 id="list-列出所有运行的应用"><a class="markdown-anchor" href="#list-列出所有运行的应用">#</a> list 列出所有运行的应用</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora list</span><br></pre></td></tr></table></figure>
<p>列出应用列表，示例如下：
<img src="https://img.alicdn.com/tfs/TB107mPeOqAXuNjy1XdXXaYcVXa-2646-330.png" alt="list"></p>
<h2 id="log-查看日志"><a class="markdown-anchor" href="#log-查看日志">#</a> log 查看日志</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora <span class="built_in">log</span> [appName] --follow --lines --full --daemon</span><br></pre></td></tr></table></figure>
<ol>
<li><code>[appName]</code> 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。</li>
<li><code>--follow</code> 可选，亦作 <code>-f</code>，类似 <code>tail -f</code>。</li>
<li><code>--lines</code> 可选，亦作 <code>-l</code>，输出最后多少行，默认为 50 行。</li>
<li><code>--full</code> 可选，输出全部日志。</li>
<li><code>--daemon</code> 可选，输出 Daemon 的日志。</li>
</ol>
<h2 id="ps-查看进程树"><a class="markdown-anchor" href="#ps-查看进程树">#</a> ps 查看进程树</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora ps &lt;appName&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li><code>&lt;appName&gt;</code> 必选，应用名。</li>
</ol>
<h2 id="exit-退出-pandorajs"><a class="markdown-anchor" href="#exit-退出-pandorajs">#</a> exit 退出 Pandora.js</h2>
<p>将 pandora 进程彻底退出，同时停止所有正在运行的应用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<h2 id="dev-前台启动应用"><a class="markdown-anchor" href="#dev-前台启动应用">#</a> dev 前台启动应用</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pandora dev [path] --name urAppName --env=<span class="string">"NODE_ENV=production"</span> --argv=<span class="string">"expose-gc"</span></span><br></pre></td></tr></table></figure>
<p>不启动 Daemon 直接前台启动应用，日志直接输出控制台。多用于本地调试，参数同 start。</p>
<ol>
<li><code>[path]</code> 可选，启动的目标路径，默认为当前目录。</li>
<li><code>--name=urAppName</code> 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。</li>
<li><code>--env=&quot;NODE_ENV=production&quot;</code> 可选，指定启动应用的环境变量，应用可以通过 <code>process.env</code> 获得。</li>
<li><code>--argv=&quot;expose-gc&quot;</code> 可选，指定应用启动的 Node.js 参数。</li>
</ol>

  </article>
  <aside id="mobileAside" class="toc">
  <div class="mobile-menu">
    <ul><li><a href="/pandora/zh-cn/introduce.html" alt="文档指南">文档指南</a></li><li><a href="/pandora/zh-cn/api.html" alt="API 接口">API 接口</a></li><li><a href="https://github.com/midwayjs/pandora/releases" alt="发布日志">发布日志</a></li></ul>
  </div>
  <dl><dt><a href="/pandora/zh-cn/introduce.html">Pandora.js 是什么？</a></dt></ul></dd><dt><a href="/pandora/zh-cn/quickstart.html">快速入门</a></dt></ul></dd><dt><a href="/pandora/zh-cn/glossary.html">关键术语</a></dt></ul></dd><dt>基础功能</dt><dd><ul><li><a href="/pandora/zh-cn/base/command.html">命令行介绍</a></li><li><a href="/pandora/zh-cn/base/procfile_mode.html">认识 procfile.js</a></li><li><a href="/pandora/zh-cn/base/logs.html">日志管理</a></li><li><a href="/pandora/zh-cn/base/global_config.html">配置文件</a></li><li><a href="/pandora/zh-cn/base/monitor_inner.html">默认监控</a></li><li><a href="/pandora/zh-cn/base/debug.html">调试应用</a></li></ul></dd><dt>进程管理进阶</dt><dd><ul><li><a href="/pandora/zh-cn/process/process_std.html">自定义进程</a></li><li><a href="/pandora/zh-cn/process/service_std.html">自定义 Service</a></li><li><a href="/pandora/zh-cn/process/fork_and_cluster.html">Fork 和 Cluster</a></li><li><a href="/pandora/zh-cn/process/environment_std.html">自定义环境</a></li><li><a href="/pandora/zh-cn/process/application_life_cycle.html">应用生命周期</a></li><li><a href="/pandora/zh-cn/process/ipc_hub.html">进程间通信</a></li></ul></dd><dt>标准监控体系</dt><dd><ul><li><a href="/pandora/zh-cn/monitor/monitor_std.html">监控体系介绍</a></li><li><a href="/pandora/zh-cn/monitor/endpoint.html">使用和扩展 EndPoint</a></li><li><a href="/pandora/zh-cn/monitor/resource.html">对外暴露 Resource</a></li><li><a href="/pandora/zh-cn/monitor/metrics.html">使用和扩展 Metrics</a></li><li><a href="/pandora/zh-cn/monitor/trace.html">链路监控</a></li></ul></dd><dt>扩展功能</dt><dd><ul><li><a href="/pandora/zh-cn/other/dashboard.html">单机可视化管理面板</a></li><li><a href="/pandora/zh-cn/other/typescript.html">启动 TypeScript 项目</a></li></ul></dd></dl>
</aside>
<script>
var mobileTrigger = document.getElementById('mobileTrigger');
var mobileAside = document.getElementById('mobileAside');
mobileTrigger.onclick = function(e) {
  e.preventDefault();
  if (mobileAside.className.indexOf('mobile-show') === -1) {
    mobileAside.className += ' mobile-show';
  } else {
    mobileAside.className = 'toc';
  }
};
</script>

</div>

  </div>
</body>
<div class="cnzz">
<script src="https://s19.cnzz.com/z_stat.php?id=1271324644&web_id=1271324644" language="JavaScript"></script>
</div>

</html>

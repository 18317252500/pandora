(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{205:function(a,s,t){"use strict";t.r(s);var e=t(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"命令行介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令行介绍","aria-hidden":"true"}},[a._v("#")]),a._v(" 命令行介绍")]),a._v(" "),t("p",[a._v("Pandora.js 提供了一些常用的命令行，比如：")]),a._v(" "),t("ul",[t("li",[a._v("init")]),a._v(" "),t("li",[a._v("start")]),a._v(" "),t("li",[a._v("stop")]),a._v(" "),t("li",[a._v("restart")]),a._v(" "),t("li",[a._v("list")]),a._v(" "),t("li",[a._v("log")]),a._v(" "),t("li",[a._v("ps")]),a._v(" "),t("li",[a._v("exit")]),a._v(" "),t("li",[a._v("dev")])]),a._v(" "),t("h2",{attrs:{id:"初始化一个-pandora-js-项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化一个-pandora-js-项目","aria-hidden":"true"}},[a._v("#")]),a._v(" 初始化一个 Pandora.js 项目")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora init "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("filePath"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" --name customName\n")])])]),t("p",[a._v("快速生成 "),t("code",[a._v("procfile.js")]),a._v("。")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("<filePath>")]),a._v(" 必选，快速生成的入口文件。")]),a._v(" "),t("li",[t("code",[a._v("--name")]),a._v(" 可选，fork 模式的进程名。")])]),a._v(" "),t("p",[a._v("举例：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ pandora init ./app.js\n? Which "),t("span",{attrs:{class:"token function"}},[a._v("type")]),a._v(" "),t("span",{attrs:{class:"token keyword"}},[a._v("do")]),a._v(" you like to generate ? "),t("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Use arrow keys"),t("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n❯ fork \n  cluster \n** The procfile.js was auto generated to location /xx/xx/procfile.js **\n")])])]),t("h2",{attrs:{id:"start-启动应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-启动应用","aria-hidden":"true"}},[a._v("#")]),a._v(" start 启动应用")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora start "),t("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("path"),t("span",{attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" --name urAppName --env"),t("span",{attrs:{class:"token operator"}},[a._v("=")]),t("span",{attrs:{class:"token string"}},[a._v('"NODE_ENV=production"')]),a._v(" --node-args"),t("span",{attrs:{class:"token operator"}},[a._v("=")]),t("span",{attrs:{class:"token string"}},[a._v('"--expose-gc"')]),a._v("\n")])])]),t("p",[a._v("最常用的启动命令，用于启动一个新的应用。")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("[path]")]),a._v(" 可选，启动的目标路径，默认为当前目录。")]),a._v(" "),t("li",[t("code",[a._v("--name=urAppName")]),a._v(" 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。")]),a._v(" "),t("li",[t("code",[a._v('--env="NODE_ENV=production"')]),a._v(" 可选，指定启动应用的环境变量，应用可以通过 "),t("code",[a._v("process.env")]),a._v(" 获得。")]),a._v(" "),t("li",[t("code",[a._v('--node-args="--expose-gc"')]),a._v(" 可选，指定应用启动的 Node.js 参数。")]),a._v(" "),t("li",[t("code",[a._v('--args="--a=b"')]),a._v(" 给应用程序的参数。")])]),a._v(" "),t("p",[a._v("举例：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token comment"}},[a._v("# 当前目录为 /home/admin/mytaobao/target/mytaobao （假设没有 package.json 中的 name）")]),a._v("\n\npandora start "),t("span",{attrs:{class:"token comment"}},[a._v("# 启动 mytaobao 应用，类似 --name=mytaobao")]),a._v("\npandora start "),t("span",{attrs:{class:"token keyword"}},[a._v(".")]),a._v(" --name mytaobao "),t("span",{attrs:{class:"token comment"}},[a._v("# 同上")]),a._v("\npandora start "),t("span",{attrs:{class:"token variable"}},[t("span",{attrs:{class:"token variable"}},[a._v("`")]),t("span",{attrs:{class:"token function"}},[a._v("pwd")]),t("span",{attrs:{class:"token variable"}},[a._v("`")])]),a._v(" "),t("span",{attrs:{class:"token comment"}},[a._v("# 同上")]),a._v("\n")])])]),t("h2",{attrs:{id:"stop-停止应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stop-停止应用","aria-hidden":"true"}},[a._v("#")]),a._v(" stop 停止应用")]),a._v(" "),t("blockquote",[t("p",[a._v("注意：只有 start 命令启动的应用才可以 stop")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora stop "),t("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("appName"),t("span",{attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),t("p",[a._v("停止一个应用。")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("[appName]")]),a._v(" 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。")])]),a._v(" "),t("p",[a._v("举例：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora stop mytaobao "),t("span",{attrs:{class:"token comment"}},[a._v("# mytaobao 为之前定义的名字，如果没有指定 name ，和 start 一样自动获得 name")]),a._v("\n")])])]),t("h2",{attrs:{id:"restart-重启应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restart-重启应用","aria-hidden":"true"}},[a._v("#")]),a._v(" restart 重启应用")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora restart "),t("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("appName"),t("span",{attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),t("p",[a._v("重启一个应用，先停止运行，再按原配置启动。")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("[appName]")]),a._v(" 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。")])]),a._v(" "),t("p",[a._v("举例：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora restart mytaobao // mytaobao 为之前定义的名字，如果没有指定 name ，和 start 一样自动获得 name\n")])])]),t("h2",{attrs:{id:"list-列出所有运行的应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#list-列出所有运行的应用","aria-hidden":"true"}},[a._v("#")]),a._v(" list 列出所有运行的应用")]),a._v(" "),t("blockquote",[t("p",[a._v("注意：dev 命令不会启动 Daemon 进程，list 等命令无法查看到应用信息")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora list\n")])])]),t("p",[a._v("列出应用列表，示例如下：\n"),t("img",{attrs:{src:"https://img.alicdn.com/tfs/TB107mPeOqAXuNjy1XdXXaYcVXa-2646-330.png",alt:"list"}})]),a._v(" "),t("h2",{attrs:{id:"log-查看日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#log-查看日志","aria-hidden":"true"}},[a._v("#")]),a._v(" log 查看日志")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora log "),t("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("appName"),t("span",{attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" --follow --lines --full --daemon\n")])])]),t("ol",[t("li",[t("code",[a._v("[appName]")]),a._v(" 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。")]),a._v(" "),t("li",[t("code",[a._v("--follow")]),a._v(" 可选，亦作 "),t("code",[a._v("-f")]),a._v("，类似 "),t("code",[a._v("tail -f")]),a._v("。")]),a._v(" "),t("li",[t("code",[a._v("--lines")]),a._v(" 可选，亦作 "),t("code",[a._v("-l")]),a._v("，输出最后多少行，默认为 50 行。")]),a._v(" "),t("li",[t("code",[a._v("--full")]),a._v(" 可选，输出全部日志。")]),a._v(" "),t("li",[t("code",[a._v("--daemon")]),a._v(" 可选，输出 Daemon 的日志。")])]),a._v(" "),t("h2",{attrs:{id:"ps-查看进程树"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ps-查看进程树","aria-hidden":"true"}},[a._v("#")]),a._v(" ps 查看进程树")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora "),t("span",{attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("appName"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("ol",[t("li",[t("code",[a._v("<appName>")]),a._v(" 必选，应用名。")])]),a._v(" "),t("h2",{attrs:{id:"exit-退出-pandora-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exit-退出-pandora-js","aria-hidden":"true"}},[a._v("#")]),a._v(" exit 退出 Pandora.js")]),a._v(" "),t("p",[a._v("将 pandora 进程彻底退出，同时停止所有正在运行的应用")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora "),t("span",{attrs:{class:"token keyword"}},[a._v("exit")]),a._v("\n")])])]),t("h2",{attrs:{id:"dev-前台启动应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dev-前台启动应用","aria-hidden":"true"}},[a._v("#")]),a._v(" dev 前台启动应用")]),a._v(" "),t("blockquote",[t("p",[a._v("注意：dev 命令不会启动 Daemon 进程，list 等命令无法查看到应用信息")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pandora dev "),t("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("path"),t("span",{attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" --name urAppName --env"),t("span",{attrs:{class:"token operator"}},[a._v("=")]),t("span",{attrs:{class:"token string"}},[a._v('"NODE_ENV=production"')]),a._v(" --node-args"),t("span",{attrs:{class:"token operator"}},[a._v("=")]),t("span",{attrs:{class:"token string"}},[a._v('"--expose-gc"')]),a._v("\n")])])]),t("p",[a._v("不启动 Daemon 直接前台启动应用，日志直接输出控制台。多用于本地调试，参数同 start。")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("[path]")]),a._v(" 可选，启动的目标路径，默认为当前目录。")]),a._v(" "),t("li",[t("code",[a._v("--name=urAppName")]),a._v(" 可选，用于指定应用名，默认为当前目录中 package.json 的 name ，或当前目录名。")]),a._v(" "),t("li",[t("code",[a._v('--env="NODE_ENV=production"')]),a._v(" 可选，指定启动应用的环境变量，应用可以通过 "),t("code",[a._v("process.env")]),a._v(" 获得。")]),a._v(" "),t("li",[t("code",[a._v('--node-args="--expose-gc"')]),a._v(" 可选，指定应用启动的 Node.js 参数。")]),a._v(" "),t("li",[t("code",[a._v('--args="--a=b"')]),a._v(" 给应用程序的参数。")])])])}],!1,null,null,null);n.options.__file="command.md";s.default=n.exports}}]);